<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Poet Laureate</title>

<style>
  :root{
    --size:320px;

    /* Ethereal tones */
    --grey-light:#f4f4f4;
    --grey-mid:#dddddd;
    --grey-dark:#9b9b9b;
  }

  html, body{
    margin:0;
    height:100%;
    background:#ffffff;
    font-family:system-ui, sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
  }

  .player{
    width:var(--size);
    height:var(--size);
    background:#ffffff; /* will be overwritten by JS random image */
    border-radius:20px;
    border:2px solid var(--grey-mid);
    display:flex;
    flex-direction:column;
    justify-content:flex-end;
    padding:20px;
    box-sizing:border-box;
    box-shadow:0 8px 20px rgba(0,0,0,0.05);
  }

  /* top row: 4 buttons */
  .top-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    margin-bottom:12px;
  }

  /* bottom row: prev / play / next */
  .bottom-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    margin-bottom:14px;
  }

  .btn{
    width:44px;
    height:44px;
    border-radius:50%;
    background:var(--grey-light);
    border:2px solid var(--grey-mid);
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    transition:0.2s ease;
  }

  .btn:hover{
    background:white;
    border-color:var(--grey-dark);
  }

  .btn svg{
    width:20px;
    height:20px;
    fill:var(--grey-dark);
  }

  .progress-wrap{
    width:100%;
    height:6px;
    background:var(--grey-light);
    border-radius:4px;
    margin-bottom:8px;
    cursor:pointer;
  }

  .progress{
    height:100%;
    width:0%;
    background:var(--grey-dark);
    border-radius:4px;
  }
</style>
</head>

<body>

<div class="player">

  <!-- TOP ROW: Shuffle / Repeat / Vol- / Vol+ -->
  <div class="top-row">

    <div class="btn" id="shuffleBtn">
      <svg viewBox="0 0 24 24"><path d="M17 3h4v4h-2V5H17V3zm0 18h2v-2h2v4h-4v-2zM3 5h2c3.87 0 7 3.13 7 7s3.13 7 7 7h2v2h-2c-4.97 0-9-4.03-9-9S7.97 5 3 5zm12 6l4-4v3h2V3h-7v2h3l-4 4 1.41 1.41z"/></svg>
    </div>

    <div class="btn" id="repeatBtn">
      <svg viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>
    </div>

    <div class="btn" id="volDown">
      <svg viewBox="0 0 24 24"><rect x="5" y="11" width="14" height="2"/></svg>
    </div>

    <div class="btn" id="volUp">
      <svg viewBox="0 0 24 24"><path d="M11 5v6H5v2h6v6h2v-6h6v-2h-6V5z"/></svg>
    </div>

  </div>

  <!-- BOTTOM ROW: Prev / Play / Next -->
  <div class="bottom-row">

    <div class="btn" id="prev">
      <svg viewBox="0 0 24 24"><path d="M15 18V6l-8 6 8 6zm2-12v12h2V6h-2z"/></svg>
    </div>

    <div class="btn" id="playPause">
      <svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      <svg id="pauseIcon" style="display:none" viewBox="0 0 24 24"><path d="M6 19h4V5H6zm8-14v14h4V5z"/></svg>
    </div>

    <div class="btn" id="next">
      <svg viewBox="0 0 24 24"><path d="M9 6v12l8-6-8-6zM3 6v12h2V6z"/></svg>
    </div>

  </div>

  <div class="progress-wrap" id="progressWrap">
    <div class="progress" id="progress"></div>
  </div>

</div>

<script>
// --- Random Background ---
const backgrounds = [
  "playerbg1.jpg",
  "playerbg2.jpg",
  "playerbg3.jpg",
  "playerbg4.jpg",
  "playerbg5.jpg",
  "playerbg6.jpg",
  "playerbg7.jpg",
  "playerbg8.jpg",
  "playerbg9.jpg",
  "playerbg10.jpg",
  "playerbg11.jpg",
  "playerbg12.jpg",
  "playerbg13.jpg",
  "playerbg14.jpg",
  "playerbg15.jpg",
  "playerbg16.jpg",
  "playerbg17.jpg",
  "playerbg18.jpg",
  "playerbg19.jpg",
  "playerbg20.jpg",
  "playerbg21.jpg",
  "playerbg22.jpg",
  "playerbg23.jpg",
  "playerbg24.jpg",
  "playerbg25.jpg",
  "playerbg26.jpg",
  "playerbg27.jpg",
  "playerbg28.jpg",
  "playerbg29.jpg",
  "playerbg30.jpg",
  "playerbg31.jpg",
  "playerbg32.jpg",
  "playerbg33.jpg",
  "playerbg34.jpg",
  "playerbg35.jpg",

  // add more JPEG filenames here
];

window.addEventListener("load", () => {
  const player = document.querySelector(".player");
  const randomIndex = Math.floor(Math.random() * backgrounds.length);
  player.style.background = `url('${backgrounds[randomIndex]}') center/cover no-repeat`;
});

// --- MP3 Player JS ---
const playlist = [
  "mixweb15.mp3",
  "mixweb14.mp3",
  "mixweb16.mp3",
  "mixweb10.mp3",
  "mixweb11.mp3",
  "mixweb12.mp3",
  "mixweb13.mp3",
  "mixweb.mp3",
  "mixweb2.mp3",
  "mixweb3.mp3",
  "mixweb4.mp3",
  "mixweb5.mp3",
  "mixweb6.mp3",
  "mixweb7.mp3",
  "mixweb8.mp3",
  "mixweb9.mp3"
  
  
];

let order = [...playlist.keys()];
let current = 0;
let shuffle = false;
let repeatMode = 0;

const audio = new Audio();
audio.src = playlist[current];
audio.volume = 0.8;

const playPause = document.getElementById("playPause");
const playIcon = document.getElementById("playIcon");
const pauseIcon = document.getElementById("pauseIcon");

const prev = document.getElementById("prev");
const next = document.getElementById("next");
const shuffleBtn = document.getElementById("shuffleBtn");
const repeatBtn = document.getElementById("repeatBtn");
const volDown = document.getElementById("volDown");
const volUp = document.getElementById("volUp");

const progress = document.getElementById("progress");
const progressWrap = document.getElementById("progressWrap");

function load(i){
  audio.src = playlist[i];
  audio.play();
  playIcon.style.display = "none";
  pauseIcon.style.display = "block";
}

function nextTrack(){
  if(repeatMode===2){ load(current); return; }
  const pos = order.indexOf(current);
  let nextPos = pos+1;
  if(nextPos >= order.length){
    if(repeatMode===1) nextPos = 0;
    else { audio.pause(); return; }
  }
  current = order[nextPos];
  load(current);
}

function prevTrack(){
  const pos = order.indexOf(current);
  let prevPos = pos-1;
  if(prevPos < 0){
    if(repeatMode===1) prevPos = order.length-1;
    else { audio.currentTime = 0; return; }
  }
  current = order[prevPos];
  load(current);
}

playPause.onclick = () => {
  if(audio.paused){
    audio.play();
    playIcon.style.display = "none";
    pauseIcon.style.display = "block";
  } else {
    audio.pause();
    playIcon.style.display = "block";
    pauseIcon.style.display = "none";
  }
};

prev.onclick = prevTrack;
next.onclick = nextTrack;

shuffleBtn.onclick = () => {
  shuffle = !shuffle;
  shuffleBtn.style.opacity = shuffle ? "1" : "0.8";

  order = [...playlist.keys()];
  if(shuffle){
    for(let i=order.length-1;i>0;i--){
      const r = Math.floor(Math.random()*(i+1));
      [order[i], order[r]]=[order[r], order[i]];
    }
  }
};

repeatBtn.onclick = () => {
  repeatMode = (repeatMode+1)%3;
  repeatBtn.style.opacity = repeatMode>0 ? "1" : "0.8";
};

audio.addEventListener("timeupdate", ()=>{
  progress.style.width = (audio.currentTime / audio.duration) * 100 + "%";
});

progressWrap.onclick = (e)=>{
  const r = progressWrap.getBoundingClientRect();
  const pct = (e.clientX - r.left) / r.width;
  audio.currentTime = pct * audio.duration;
};

volDown.onclick = () => audio.volume = Math.max(0, audio.volume - 0.1);
volUp.onclick = () => audio.volume = Math.min(1, audio.volume + 0.1);

audio.addEventListener("ended", nextTrack);
</script>

</body>
</html>
